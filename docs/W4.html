<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="coqdoc.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery-1.8.3.js"></script>
<script type="text/javascript" src="main.js"></script>
<script type="text/javascript" src="MyStyles.js"></script>
</head>
<h1 class="libtitle">W4: Inne logiki [schowane na końcu dla niepoznaki]</h1>

<div class="code">
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab566"></a><h1 class="section">Porównanie logiki konstruktywnej i klasycznej</h1>

<div class="paragraph"> </div>

<a name="lab567"></a><h1 class="section">Pluralizm logiczny</h1>

<div class="paragraph"> </div>

<a name="lab568"></a><h1 class="section">Inne logiki?</h1>

<div class="paragraph"> </div>

<a name="lab569"></a><h1 class="section">Logika de Morgana</h1>

<div class="paragraph"> </div>

 jako coś pomiędzy logiką konstruktywną i klasyczną 
<div class="paragraph"> </div>

<a name="lab570"></a><h1 class="section">Inne logiki - podsumowanie</h1>

<div class="paragraph"> </div>

 krótkie, acz realistyczne (logiki parakonsystentne to guwno) 
<div class="paragraph"> </div>

<a name="lab571"></a><h1 class="section">Kombinatory taktyk</h1>

<div class="paragraph"> </div>

 Przyjrzyjmy się jeszcze raz twierdzeniu <span class="inlinecode"><span class="id" title="var">iff_intro</span></span> (lekko
    zmodernizowanemu przy pomocy kwantyfikacji uniwersalnej). 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iff_intro'</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> -&gt; <span class="id" title="var">Q</span>) -&gt; (<span class="id" title="var">Q</span> -&gt; <span class="id" title="var">P</span>) -&gt; (<span class="id" title="var">P</span> &lt;-&gt; <span class="id" title="var">Q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Jego dowód wygląda dość schematycznie. Taktyka <span class="inlinecode"><span class="id" title="tactic">split</span></span> generuje
    nam dwa podcele będące implikacjami — na każdym z osobna używamy
    następnie <span class="inlinecode"><span class="id" title="tactic">intro</span></span>, a kończymy <span class="inlinecode"><span class="id" title="tactic">assumption</span></span>. Jedyne, czym różnią
    się dowody podcelów, to nazwa aplikowanej hipotezy.

<div class="paragraph"> </div>

    A co, gdyby jakaś taktyka wygenerowała nam 100 takich schematycznych
    podcelów? Czy musielibyśmy przechodzić przez mękę ręcznego dowodzenia
    tych niezbyt ciekawych przypadków? Czy da się powyższy dowód jakoś
    skrócić lub zautomatyzować?

<div class="paragraph"> </div>

    Odpowiedź na szczęście brzmi "tak". Z pomocą przychodzą nam kombinatory
    taktyk (ang. tacticals), czyli taktyki, które mogą przyjmować jako
    argumenty inne
    taktyki. Dzięki temu możemy łączyć proste taktyki w nieco bardziej
    skomplikowane lub jedynie zmieniać niektóre aspekty ich zachowań. 
<div class="paragraph"> </div>

<a name="lab572"></a><h2 class="section"><span class="inlinecode">;</span> (średnik)</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iff_intro''</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> -&gt; <span class="id" title="var">Q</span>) -&gt; (<span class="id" title="var">Q</span> -&gt; <span class="id" title="var">P</span>) -&gt; (<span class="id" title="var">P</span> &lt;-&gt; <span class="id" title="var">Q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>]; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Najbardziej podstawowym kombinatorem jest <span class="inlinecode">;</span> (średnik). Zapis
    <span class="inlinecode"><span class="id" title="var">t1</span>;</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> oznacza "użyj na obecnym celu taktyki <span class="inlinecode"><span class="id" title="var">t1</span></span>, a następnie
    na wszystkich podcelach wygenerowanych przez <span class="inlinecode"><span class="id" title="var">t1</span></span> użyj taktyki
    <span class="inlinecode"><span class="id" title="var">t2</span></span>".

<div class="paragraph"> </div>

    Zauważmy, że taktyka <span class="inlinecode"><span class="id" title="tactic">split</span></span> działa nie tylko na koniunkcjach i
    równoważnościach, ale także wtedy, gdy są one konkluzją pewnej
    implikacji. W takich przypadkach taktyka <span class="inlinecode"><span class="id" title="tactic">split</span></span> przed rozbiciem
    ich wprowadzi do kontekstu przesłanki implikacji (a także zmienne
    związane kwantyfikacją uniwersalną), zaoszczędzając nam użycia
    wcześniej taktyki <span class="inlinecode"><span class="id" title="tactic">intros</span></span>.

<div class="paragraph"> </div>

    Wobec tego, zamiast wprowadzać zmienne do kontekstu przy pomocy
    <span class="inlinecode"><span class="id" title="tactic">intros</span></span>, rozbijać cel <span class="inlinecode"><span class="id" title="tactic">split</span></span>em, a potem jeszcze w każdym
    podcelu z osobna wprowadzać do kontekstu przesłankę implikacji,
    możemy to zrobić szybciej pisząc <span class="inlinecode"><span class="id" title="tactic">split</span>;</span> <span class="inlinecode"><span class="id" title="tactic">intros</span></span>.

<div class="paragraph"> </div>

    Drugie użycie średnika jest uogólnieniem pierwszego. Zapis
    <span class="inlinecode"><span class="id" title="var">t</span>;</span> <span class="inlinecode">[<span class="id" title="var">t1</span></span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> <span class="inlinecode">|</span> <span class="inlinecode">...</span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">tn</span>]</span> oznacza "użyj na obecnym podcelu
    taktyki <span class="inlinecode"><span class="id" title="var">t</span></span>; następnie na pierwszym wygenerowanym przez nią
    podcelu użyj taktyki <span class="inlinecode"><span class="id" title="var">t1</span></span>, na drugim <span class="inlinecode"><span class="id" title="var">t2</span></span>, etc., a na n-tym
    użyj taktyki <span class="inlinecode"><span class="id" title="var">tn</span></span>". Wobec tego zapis <span class="inlinecode"><span class="id" title="var">t1</span>;</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> jest jedynie
    skróconą formą <span class="inlinecode"><span class="id" title="var">t1</span>;</span> <span class="inlinecode">[<span class="id" title="var">t2</span></span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> <span class="inlinecode">|</span> <span class="inlinecode">...</span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">t2</span>]</span>.

<div class="paragraph"> </div>

    Użycie tej formy kombinatora <span class="inlinecode">;</span> jest uzasadnione tym, że
    w pierwszym z naszych podcelów musimy zaaplikować hipotezę
    <span class="inlinecode"><span class="id" title="var">H</span></span>, a w drugim <span class="inlinecode"><span class="id" title="var">H0</span></span> — w przeciwnym wypadku nasza taktyka
    zawiodłaby (sprawdź to). Ostatnie użycie tego kombinatora
    jest identyczne jak pierwsze — każdy z podcelów kończymy
    taktyką <span class="inlinecode"><span class="id" title="tactic">assumption</span></span>.

<div class="paragraph"> </div>

    Dzięki średnikowi dowód naszego twierdzenia skurczył się z
    trzech linijek do jednej, co jest wyśmienitym wynikiem —
    trzy razy mniej linii kodu to trzy razy mniejszy problem
    z jego utrzymaniem. Fakt ten ma jednak również i swoją
    ciemną stronę. Jest nią utrata interaktywności — wykonanie
    taktyki przeprowadza dowód od początku do końca.

<div class="paragraph"> </div>

    Znalezienie odpowiedniego balansu między automatyzacją i
    interaktywnością nie jest sprawą łatwą. Dowodząc twierdzenia
    twoim pierwszym i podstawowym celem powinno być zawsze jego
    zrozumienie, co oznacza dowód mniej lub bardziej interaktywny,
    nieautomatyczny. Gdy uda ci się już udowodnić i zrozumieć dane
    twierdzenie, możesz przejść do automatyzacji. Proces ten jest
    analogiczny jak w przypadku inżynierii oprogramowania — najpierw
    tworzy się działający prototyp, a potem się go usprawnia.

<div class="paragraph"> </div>

    Praktyka pokazuje jednak, że naszym ostatecznym
    celem powinna być pełna automatyzacja, tzn. sytuacja, w
    której dowód każdego twierdzenia (poza zupełnie banalnymi)
    będzie się sprowadzał, jak w powyższym przykładzie, do
    użycia jednej, specjalnie dla niego stworzonej taktyki.
    Ma to swoje uzasadnienie:
<ul class="doclist">
<li> zrozumienie cudzych dowodów jest zazwyczaj dość trudne,
      co ma spore znaczenie w większych projektach, w których
      uczestniczy wiele osób, z których część odchodzi, a na
      ich miejsce przychodzą nowe

</li>
<li> przebrnięcie przez dowód interaktywny, nawet jeżeli
      ma walory edukacyjne i jest oświecające, jest zazwyczaj
      czasochłonne, a czas to pieniądz

</li>
<li> skoro zrozumienie dowodu jest trudne i czasochłonne,
      to będziemy chcieli unikać jego zmieniania, co może
      nastąpić np. gdy będziemy chcieli dodać do systemu
      jakąś funkcjonalność i udowodnić, że po jej dodaniu
      system wciąż działa poprawnie 
</li>
</ul>

<div class="paragraph"> </div>

<a name="lab573"></a><h4 class="section">Ćwiczenie (średnik)</h4>

<div class="paragraph"> </div>

 Poniższe twierdzenia udowodnij najpierw z jak największym zrozumieniem,
    a następnie zautomatyzuj tak, aby całość była rozwiązywana w jednym
    kroku przez pojedynczą taktykę. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">or_comm_ex</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="keyword">Prop</span>, <span class="id" title="var">P</span> \/ <span class="id" title="var">Q</span> -&gt; <span class="id" title="var">Q</span> \/ <span class="id" title="var">P</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">diamond</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> -&gt; <span class="id" title="var">Q</span>) \/ (<span class="id" title="var">P</span> -&gt; <span class="id" title="var">R</span>) -&gt; (<span class="id" title="var">Q</span> -&gt; <span class="id" title="var">S</span>) -&gt; (<span class="id" title="var">R</span> -&gt; <span class="id" title="var">S</span>) -&gt; <span class="id" title="var">P</span> -&gt; <span class="id" title="var">S</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab574"></a><h2 class="section"><span class="inlinecode">||</span> (alternatywa)</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iff_intro'''</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> -&gt; <span class="id" title="var">Q</span>) -&gt; (<span class="id" title="var">Q</span> -&gt; <span class="id" title="var">P</span>) -&gt; (<span class="id" title="var">P</span> &lt;-&gt; <span class="id" title="var">Q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Innym przydatnym kombinatorem jest <span class="inlinecode">||</span>, który będziemy nazywać
    alternatywą. Żeby wyjaśnić jego działanie, posłużymy się pojęciem
    postępu. Taktyka dokonuje postępu, jeżeli wygenerowany przez nią
    cel różni się od poprzedniego celu. Innymi słowy, taktyka nie
    dokonuje postępu, jeżeli nie zmienia obecnego celu. Za pomocą
    <span class="inlinecode"><span class="id" title="tactic">progress</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> możemy sprawdzić, czy taktyka <span class="inlinecode"><span class="id" title="var">t</span></span> dokona postępu
    na obecnym celu.

<div class="paragraph"> </div>

    Taktyka <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">||</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> używa na obecnym celu <span class="inlinecode"><span class="id" title="var">t1</span></span>. Jeżeli <span class="inlinecode"><span class="id" title="var">t1</span></span> dokona
    postępu, to <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">||</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> będzie miało taki efekt jak <span class="inlinecode"><span class="id" title="var">t1</span></span> i skończy
    się sukcesem. Jeżeli <span class="inlinecode"><span class="id" title="var">t1</span></span> nie dokona postępu, to na obecnym celu
    zostanie użyte <span class="inlinecode"><span class="id" title="var">t2</span></span>. Jeżeli <span class="inlinecode"><span class="id" title="var">t2</span></span> dokona postępu, to <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">||</span> <span class="inlinecode"><span class="id" title="var">t2</span></span>
    będzie miało taki efekt jak <span class="inlinecode"><span class="id" title="var">t2</span></span> i skończy się sukcesem. Jeżeli
    <span class="inlinecode"><span class="id" title="var">t2</span></span> nie dokona postępu, to <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">||</span> <span class="inlinecode"><span class="id" title="var">t2</span></span> zawiedzie i cel się nie
    zmieni.

<div class="paragraph"> </div>

    W naszym przypadku w każdym z podcelów wygenerowanych przez
    <span class="inlinecode"><span class="id" title="tactic">split</span>;</span> <span class="inlinecode"><span class="id" title="tactic">intros</span></span> próbujemy zaaplikować najpierw <span class="inlinecode"><span class="id" title="var">H0</span></span>, a potem
    <span class="inlinecode"><span class="id" title="var">H</span></span>. Na pierwszym podcelu <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H0</span></span> zawiedzie (a więc nie
    dokona postępu), więc zostanie użyte <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span>, które zmieni
    cel. Wobec tego <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H0</span></span> <span class="inlinecode">||</span> <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span> na pierwszym podcelu
    będzie miało taki sam efekt, jak użycie <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span>. W drugim
    podcelu <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H0</span></span> skończy się sukcesem, więc tu <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H0</span></span> <span class="inlinecode">||</span>
    <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span> będzie miało taki sam efekt, jak <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">H0</span></span>. 
<div class="paragraph"> </div>

<a name="lab575"></a><h2 class="section"><span class="inlinecode"><span class="id" title="tactic">idtac</span></span>, <span class="inlinecode"><span class="id" title="tactic">do</span></span> oraz <span class="inlinecode"><span class="id" title="tactic">repeat</span></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">idtac_do_example</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> -&gt; <span class="id" title="var">S</span> \/ <span class="id" title="var">R</span> \/ <span class="id" title="var">Q</span> \/ <span class="id" title="var">P</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="tactic">idtac</span></span> to taktyka identycznościowa, czyli taka, która nic
    nic robi. Sama w sobie nie jest zbyt użyteczna, ale przydaje
    się do czasem do tworzenia bardziej skomplikowanych taktyk.

<div class="paragraph"> </div>

    Kombinator <span class="inlinecode"><span class="id" title="tactic">do</span></span> pozwala nam użyć danej taktyki określoną ilość
    razy. <span class="inlinecode"><span class="id" title="tactic">do</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> na obecnym celu używa <span class="inlinecode"><span class="id" title="var">t</span></span>. Jeżeli <span class="inlinecode"><span class="id" title="var">t</span></span> zawiedzie,
    to <span class="inlinecode"><span class="id" title="tactic">do</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> również zawiedzie. Jeżeli <span class="inlinecode"><span class="id" title="var">t</span></span> skończy się sukcesem,
    to na każdym podcelu wygenerowanym przez <span class="inlinecode"><span class="id" title="var">t</span></span> użyte zostanie
    <span class="inlinecode"><span class="id" title="tactic">do</span></span> <span class="inlinecode">(<span class="id" title="var">n</span></span> <span class="inlinecode">-</span> <span class="inlinecode">1)</span> <span class="inlinecode"><span class="id" title="var">t</span></span>. W szczególności <span class="inlinecode"><span class="id" title="tactic">do</span></span> <span class="inlinecode">0</span> <span class="inlinecode"><span class="id" title="var">t</span></span> działa jak <span class="inlinecode"><span class="id" title="tactic">idtac</span></span>,
    czyli kończy się sukcesem nic nie robiąc.

<div class="paragraph"> </div>

    W naszym przypadku użycie taktyki <span class="inlinecode"><span class="id" title="tactic">do</span></span> <span class="inlinecode">3</span> <span class="inlinecode"><span class="id" title="tactic">right</span></span> sprawi, że
    przy wyborze członu dysjunkcji, którego chcemy dowodzić,
    trzykrotnie pójdziemy w prawo. Zauważmy, że taktyka <span class="inlinecode"><span class="id" title="tactic">do</span></span> <span class="inlinecode">4</span> <span class="inlinecode"><span class="id" title="tactic">right</span></span>
    zawiodłaby, gdyż po 3 użyciach <span class="inlinecode"><span class="id" title="tactic">right</span></span> cel nie byłby już
    dysjunkcją, więc kolejne użycie <span class="inlinecode"><span class="id" title="tactic">right</span></span> zawiodłoby, a wtedy
    cała taktyka <span class="inlinecode"><span class="id" title="tactic">do</span></span> <span class="inlinecode">4</span> <span class="inlinecode"><span class="id" title="tactic">right</span></span> również zawiodłaby. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">repeat_example</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> : <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> -&gt; <span class="id" title="var">A</span> \/ <span class="id" title="var">B</span> \/ <span class="id" title="var">C</span> \/ <span class="id" title="var">D</span> \/ <span class="id" title="var">E</span> \/ <span class="id" title="var">F</span> \/ <span class="id" title="var">P</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Kombinator <span class="inlinecode"><span class="id" title="tactic">repeat</span></span> powtarza daną taktykę, aż ta rozwiąże cel,
    zawiedzie, lub nie zrobi postępu. Formalnie: <span class="inlinecode"><span class="id" title="tactic">repeat</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> używa
    na obecnym celu taktyki <span class="inlinecode"><span class="id" title="var">t</span></span>. Jeżeli <span class="inlinecode"><span class="id" title="var">t</span></span> rozwiąże cel, to
    <span class="inlinecode"><span class="id" title="tactic">repeat</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> kończy się sukcesem. Jeżeli <span class="inlinecode"><span class="id" title="var">t</span></span> zawiedzie lub nie
    zrobi postępu, to <span class="inlinecode"><span class="id" title="tactic">repeat</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> również kończy się sukcesem.
    Jeżeli <span class="inlinecode"><span class="id" title="var">t</span></span> zrobi jakiś postęp, to na każdym wygenerowaym przez
    nią celu zostanie użyte <span class="inlinecode"><span class="id" title="tactic">repeat</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span>.

<div class="paragraph"> </div>

    W naszym przypadku <span class="inlinecode"><span class="id" title="tactic">repeat</span></span> <span class="inlinecode"><span class="id" title="tactic">right</span></span> ma taki efekt, że przy wyborze
    członu dysjunkcji wybieramy człon będący najbardziej na prawo,
    tzn. dopóki cel jest dysjunkcją, aplikowana jest taktyka <span class="inlinecode"><span class="id" title="tactic">right</span></span>,
    która wybiera prawy człon. Kiedy nasz cel przestaje być dysjunkcją,
    taktyka <span class="inlinecode"><span class="id" title="tactic">right</span></span> zawodzi i wtedy taktyka <span class="inlinecode"><span class="id" title="tactic">repeat</span></span> <span class="inlinecode"><span class="id" title="tactic">right</span></span> kończy swoje
    działanie sukcesem. 
<div class="paragraph"> </div>

<a name="lab576"></a><h2 class="section"><span class="inlinecode"><span class="id" title="tactic">try</span></span> i <span class="inlinecode"><span class="id" title="tactic">fail</span></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iff_intro4</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> -&gt; <span class="id" title="var">Q</span>) -&gt; (<span class="id" title="var">Q</span> -&gt; <span class="id" title="var">P</span>) -&gt; (<span class="id" title="var">P</span> &lt;-&gt; <span class="id" title="var">Q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">fail</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">fail</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="tactic">try</span></span> jest kombinatorem, który zmienia zachowanie przekazanej mu
    taktyki. Jeżeli <span class="inlinecode"><span class="id" title="var">t</span></span> zawiedzie, to <span class="inlinecode"><span class="id" title="tactic">try</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> zadziała jak <span class="inlinecode"><span class="id" title="tactic">idtac</span></span>,
    czyli nic nie zrobi i skończy się sukcesem. Jeżeli <span class="inlinecode"><span class="id" title="var">t</span></span> skończy się
    sukcesem, to <span class="inlinecode"><span class="id" title="tactic">try</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> również skończy się sukcesem i będzie miało
    taki sam efekt, jak <span class="inlinecode"><span class="id" title="var">t</span></span>. Tak więc, podobnie jak <span class="inlinecode"><span class="id" title="tactic">repeat</span></span>, <span class="inlinecode"><span class="id" title="tactic">try</span></span>
    nigdy nie zawodzi.

<div class="paragraph"> </div>

    <span class="inlinecode"><span class="id" title="tactic">fail</span></span> jest przeciwieństwem <span class="inlinecode"><span class="id" title="tactic">idtac</span></span> — jest to taktyka, która zawsze
    zawodzi. Sama w sobie jest bezużyteczna, ale w tandemie z <span class="inlinecode"><span class="id" title="tactic">try</span></span>
    oraz średnikiem daje nam pełną kontrolę nad tym, czy taktyka
    zakończy się sukcesem, czy zawiedzie, a także czy dokona postępu.

<div class="paragraph"> </div>

    Częstym sposobem użycia <span class="inlinecode"><span class="id" title="tactic">try</span></span> i <span class="inlinecode"><span class="id" title="tactic">fail</span></span> jest <span class="inlinecode"><span class="id" title="tactic">try</span></span> <span class="inlinecode">(<span class="id" title="var">t</span>;</span> <span class="inlinecode"><span class="id" title="tactic">fail</span>)</span>. Taktyka
    ta na obecnym celu używa <span class="inlinecode"><span class="id" title="var">t</span></span>. Jeżeli <span class="inlinecode"><span class="id" title="var">t</span></span>
    rozwiąże cel, to <span class="inlinecode"><span class="id" title="tactic">fail</span></span> nie zostanie wywołane i całe <span class="inlinecode"><span class="id" title="tactic">try</span></span> <span class="inlinecode">(<span class="id" title="var">t</span>;</span> <span class="inlinecode"><span class="id" title="tactic">fail</span>)</span>
    zadziała tak jak <span class="inlinecode"><span class="id" title="var">t</span></span>, czyli rozwiąże cel. Jeżeli <span class="inlinecode"><span class="id" title="var">t</span></span> nie rozwiąże celu,
    to na wygenerowanych podcelach wywoływane zostanie <span class="inlinecode"><span class="id" title="tactic">fail</span></span>, które
    zawiedzie — dzięki temu <span class="inlinecode"><span class="id" title="var">t</span>;</span> <span class="inlinecode"><span class="id" title="tactic">fail</span></span> również zawiedzie, nie dokonując
    żadnych zmian w celu (nie dokona postępu), a całe <span class="inlinecode"><span class="id" title="tactic">try</span></span> <span class="inlinecode">(<span class="id" title="var">t</span>;</span> <span class="inlinecode"><span class="id" title="tactic">fail</span>)</span>
    zakończy się sukcesem, również nie dokonując w celu żadnych zmian.
    Wobec tego działanie <span class="inlinecode"><span class="id" title="tactic">try</span></span> <span class="inlinecode">(<span class="id" title="var">t</span>;</span> <span class="inlinecode"><span class="id" title="tactic">fail</span>)</span> można podsumować tak: "jeżeli <span class="inlinecode"><span class="id" title="var">t</span></span>
    rozwiąże cel to użyj jej, a jeżeli nie, to nic nie rób".

<div class="paragraph"> </div>

    Postaraj się dokładnie zrozumieć, jak opis ten ma się do powyższego
    przykładu — spróbuj usunąć jakieś <span class="inlinecode"><span class="id" title="tactic">try</span></span>, <span class="inlinecode"><span class="id" title="tactic">fail</span></span> lub średnik i zobacz,
    co się stanie.

<div class="paragraph"> </div>

    Oczywiście przykład ten jest bardzo sztuczny — najlepszym pomysłem
    udowodnienia tego twierdzenia jest użycie ogólnej postaci średnika
    <span class="inlinecode"><span class="id" title="var">t</span>;</span> <span class="inlinecode"><span class="id" title="var">t1</span></span> <span class="inlinecode">|</span> <span class="inlinecode">...</span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">tn</span></span>, tak jak w przykładzie <span class="inlinecode"><span class="id" title="var">iff_intro''</span></span>. Idiom
    <span class="inlinecode"><span class="id" title="tactic">try</span></span> <span class="inlinecode">(<span class="id" title="var">t</span>;</span> <span class="inlinecode"><span class="id" title="tactic">fail</span>)</span> najlepiej sprawdza się, gdy użycie średnika w ten
    sposób jest niepraktyczne, czyli gdy celów jest dużo, a rozwiązać
    automatycznie potrafimy tylko część z nich. Możemy użyć go wtedy,
    żeby pozbyć się prostszych przypadków nie zaśmiecając sobie jednak
    kontekstu w pozostałych przypadkach. Idiom ten jest też dużo
    bardziej odporny na przyszłe zmiany w programie, gdyż użycie go
    nie wymaga wiedzy o tym, ile podcelów zostanie wygenerowanych.

<div class="paragraph"> </div>

    Przedstawione kombinatory są najbardziej użyteczne i stąd
    najpowszechniej używane. Nie są to jednak wszystkie kombinatory
    — jest ich znacznie więcej. Opisy taktyk i kombinatorów
    z biblioteki standardowej znajdziesz tu:
    https://coq.inria.fr/refman/coq-tacindex.html 
<div class="paragraph"> </div>

<a name="lab577"></a><h1 class="section">Zadania</h1>

<div class="paragraph"> </div>

 rozwiąż wszystkie zadania jeszcze raz, ale tym razem bez używania
    Module/Section/Hypothesis oraz z jak najkrótszymi dowodami 
<div class="paragraph"> </div>

<a name="lab578"></a><h1 class="section">Jakieś podsumowanie</h1>

<div class="paragraph"> </div>

<ul class="doclist">
<li> taktyka firstorder
<ul class="doclist">
<li> zrobić test diagnostyczny tak/nie

</li>
<li> fiszki do nauki nazw praw 
</li>
</ul>

</li>
</ul>

</div>
<div class="code">
</div>
